### [CVE-2025-38063](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2025-38063)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=1da177e4c3f41524e886b7f1b8a0c1fc7321cac2%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=blue)

### Description

In the Linux kernel, the following vulnerability has been resolved:dm: fix unconditional IO throttle caused by REQ_PREFLUSHWhen a bio with REQ_PREFLUSH is submitted to dm, __send_empty_flush()generates a flush_bio with REQ_OP_WRITE | REQ_PREFLUSH | REQ_SYNC,which causes the flush_bio to be throttled by wbt_wait().An example from v5.4, similar problem also exists in upstream:    crash> bt 2091206    PID: 2091206  TASK: ffff2050df92a300  CPU: 109  COMMAND: "kworker/u260:0"     #0 [ffff800084a2f7f0] __switch_to at ffff80004008aeb8     #1 [ffff800084a2f820] __schedule at ffff800040bfa0c4     #2 [ffff800084a2f880] schedule at ffff800040bfa4b4     #3 [ffff800084a2f8a0] io_schedule at ffff800040bfa9c4     #4 [ffff800084a2f8c0] rq_qos_wait at ffff8000405925bc     #5 [ffff800084a2f940] wbt_wait at ffff8000405bb3a0     #6 [ffff800084a2f9a0] __rq_qos_throttle at ffff800040592254     #7 [ffff800084a2f9c0] blk_mq_make_request at ffff80004057cf38     #8 [ffff800084a2fa60] generic_make_request at ffff800040570138     #9 [ffff800084a2fae0] submit_bio at ffff8000405703b4    #10 [ffff800084a2fb50] xlog_write_iclog at ffff800001280834 [xfs]    #11 [ffff800084a2fbb0] xlog_sync at ffff800001280c3c [xfs]    #12 [ffff800084a2fbf0] xlog_state_release_iclog at ffff800001280df4 [xfs]    #13 [ffff800084a2fc10] xlog_write at ffff80000128203c [xfs]    #14 [ffff800084a2fcd0] xlog_cil_push at ffff8000012846dc [xfs]    #15 [ffff800084a2fda0] xlog_cil_push_work at ffff800001284a2c [xfs]    #16 [ffff800084a2fdb0] process_one_work at ffff800040111d08    #17 [ffff800084a2fe00] worker_thread at ffff8000401121cc    #18 [ffff800084a2fe70] kthread at ffff800040118de4After commit 2def2845cc33 ("xfs: don't allow log IO to be throttled"),the metadata submitted by xlog_write_iclog() should not be throttled.But due to the existence of the dm layer, throttling flush_bio indirectlycauses the metadata bio to be throttled.Fix this by conditionally adding REQ_IDLE to flush_bio.bi_opf, which makeswbt_should_throttle() return false to avoid wbt_wait().

### POC

#### Reference
No PoCs from references.

#### Github
- https://github.com/w4zu/Debian_security

