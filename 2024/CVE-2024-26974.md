### [CVE-2024-26974](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26974)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=3.17%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=d8cba25d2c68992a6e7c1d329b690a9ebe01167d%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=blue)

### Description

In the Linux kernel, the following vulnerability has been resolved:crypto: qat - resolve race condition during AER recoveryDuring the PCI AER system's error recovery process, the kernel drivermay encounter a race condition with freeing the reset_data structure'smemory. If the device restart will take more than 10 seconds the functionscheduling that restart will exit due to a timeout, and the reset_datastructure will be freed. However, this data structure is used forcompletion notification after the restart is completed, which leadsto a UAF bug.This results in a KFENCE bug notice.  BUG: KFENCE: use-after-free read in adf_device_reset_worker+0x38/0xa0 [intel_qat]  Use-after-free read at 0x00000000bc56fddf (in kfence-#142):  adf_device_reset_worker+0x38/0xa0 [intel_qat]  process_one_work+0x173/0x340To resolve this race condition, the memory associated to the containerof the work_struct is freed on the worker if the timeout expired,otherwise on the function that schedules the worker.The timeout detection can be done by checking if the caller isstill waiting for completion or not by using completion_done() function.

### POC

#### Reference
- https://git.kernel.org/stable/c/7d42e097607c4d246d99225bf2b195b6167a210c

#### Github
No PoCs found on GitHub currently.

