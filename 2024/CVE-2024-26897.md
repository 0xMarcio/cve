### [CVE-2024-26897](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-26897)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=5.17%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=735aefae7b68025cd04c482a940c0f6fc6797a63%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=78c8397132dd4735ac6a7b5a651302f0b9f264ad%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=7bbc1a50a7963f14048f0e54b0b73159f86d4ea3%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=8b3046abc99eefe11438090bcc4ec3a3994b55d0%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=blue)

### Description

In the Linux kernel, the following vulnerability has been resolved:wifi: ath9k: delay all of ath9k_wmi_event_tasklet() until init is completeThe ath9k_wmi_event_tasklet() used in ath9k_htc assumes that all the datastructures have been fully initialised by the time it runs. However, because ofthe order in which things are initialised, this is not guaranteed to be thecase, because the device is exposed to the USB subsystem before the ath9k driverinitialisation is completed.We already committed a partial fix for this in commit:8b3046abc99e ("ath9k_htc: fix NULL pointer dereference at ath9k_htc_tx_get_packet()")However, that commit only aborted the WMI_TXSTATUS_EVENTID command in the eventtasklet, pairing it with an "initialisation complete" bit in the TX struct. Itseems syzbot managed to trigger the race for one of the other commands as well,so let's just move the existing synchronisation bit to cover the wholetasklet (setting it at the end of ath9k_htc_probe_device() instead of insideath9k_tx_init()).

### POC

#### Reference
- https://git.kernel.org/stable/c/74d0639261dd795dce958d1b14815bdcbb48a715

#### Github
No PoCs found on GitHub currently.

