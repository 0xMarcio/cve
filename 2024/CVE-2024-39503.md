### [CVE-2024-39503](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-39503)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=c7f2733e5011%3C%20c0761d1f1ce1%20&color=brighgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=brighgreen)

### Description

In the Linux kernel, the following vulnerability has been resolved:netfilter: ipset: Fix race between namespace cleanup and gc in the list:set typeLion Ackermann reported that there is a race condition between namespace cleanupin ipset and the garbage collection of the list:set type. The namespacecleanup can destroy the list:set type of sets while the gc of the set type iswaiting to run in rcu cleanup. The latter uses data from the destroyed set whichthus leads use after free. The patch contains the following parts:- When destroying all sets, first remove the garbage collectors, then wait  if needed and then destroy the sets.- Fix the badly ordered "wait then remove gc" for the destroy a single set  case.- Fix the missing rcu locking in the list:set type in the userspace test  case.- Use proper RCU list handlings in the list:set type.The patch depends on c1193d9bbbd3 (netfilter: ipset: Add list flush to cancel_gc).

### POC

#### Reference
No PoCs from references.

#### Github
- https://github.com/Vn78/vn78p

