### [CVE-2024-46706](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-46706)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=43543e6f539b3e646348c253059f75e27d63c94d%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=6.2%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=blue)

### Description

In the Linux kernel, the following vulnerability has been resolved:tty: serial: fsl_lpuart: mark last busy before uart_add_one_portWith "earlycon initcall_debug=1 loglevel=8" in bootargs, kernelsometimes boot hang. It is because normal console still is not ready,but runtime suspend is called, so early console putchar will hangin waiting TRDE set in UARTSTAT.The lpuart driver has auto suspend delay set to 3000ms, but duringuart_add_one_port, a child device serial ctrl will added and probed withits pm runtime enabled(see serial_ctrl.c).The runtime suspend call path is:device_add     |-> bus_probe_device           |->device_initial_probe	           |->__device_attach                         |-> pm_runtime_get_sync(dev->parent);			 |-> pm_request_idle(dev);			 |-> pm_runtime_put(dev->parent);So in the end, before normal console ready, the lpuart get runtimesuspended. And earlycon putchar will hang.To address the issue, mark last busy just after pm_runtime_enable,three seconds is long enough to switch from bootconsole to normalconsole.

### POC

#### Reference
No PoCs from references.

#### Github
- https://github.com/fkie-cad/nvd-json-data-feeds

