### [CVE-2024-56641](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-56641)
![](https://img.shields.io/static/v1?label=Product&message=Linux&color=blue)
![](https://img.shields.io/static/v1?label=Version&message=&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=4.12%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Version&message=46c28dbd4c23c3f7fa37f5ea48772af79c9cc40e%20&color=brightgreen)
![](https://img.shields.io/static/v1?label=Vulnerability&message=n%2Fa&color=blue)

### Description

In the Linux kernel, the following vulnerability has been resolved:net/smc: initialize close_work early to avoid warningWe encountered a warning that close_work was canceled beforeinitialization.  WARNING: CPU: 7 PID: 111103 at kernel/workqueue.c:3047 __flush_work+0x19e/0x1b0  Workqueue: events smc_lgr_terminate_work [smc]  RIP: 0010:__flush_work+0x19e/0x1b0  Call Trace:   ? __wake_up_common+0x7a/0x190   ? work_busy+0x80/0x80   __cancel_work_timer+0xe3/0x160   smc_close_cancel_work+0x1a/0x70 [smc]   smc_close_active_abort+0x207/0x360 [smc]   __smc_lgr_terminate.part.38+0xc8/0x180 [smc]   process_one_work+0x19e/0x340   worker_thread+0x30/0x370   ? process_one_work+0x340/0x340   kthread+0x117/0x130   ? __kthread_cancel_work+0x50/0x50   ret_from_fork+0x22/0x30This is because when smc_close_cancel_work is triggered, e.g. the RDMAdriver is rmmod and the LGR is terminated, the conn->close_work isflushed before initialization, resulting in WARN_ON(!work->func).__smc_lgr_terminate             | smc_connect_{rdma|ism}-------------------------------------------------------------                                | smc_conn_create				| \- smc_lgr_register_connfor conn in lgr->conns_all      |\- smc_conn_kill                |   \- smc_close_active_abort    |      \- smc_close_cancel_work  |         \- cancel_work_sync    |            \- __flush_work     |	         (close_work)   |	                        | smc_close_init	                        | \- INIT_WORK(&close_work)So fix this by initializing close_work before establishing theconnection.

### POC

#### Reference
No PoCs from references.

#### Github
- https://github.com/ARPSyndicate/cve-scores
- https://github.com/cku-heise/euvd-api-doc

